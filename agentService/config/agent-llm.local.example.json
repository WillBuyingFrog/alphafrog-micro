{
  "defaultEndpoint": "fireworks",
  "defaultModel": "accounts/fireworks/models/kimi-k2p5",
  "models": [
    "accounts/fireworks/models/kimi-k2p5",
    "openai/gpt-5.2",
    "openai/gpt-5.1"
  ],
  "endpoints": {
    "fireworks": {
      "baseUrl": "https://api.fireworks.ai/inference/v1",
      "apiKey": "replace-with-your-fireworks-api-key"
    },
    "openrouter": {
      "baseUrl": "https://openrouter.ai/api/v1",
      "apiKey": "replace-with-your-openrouter-api-key"
    },
    "openai": {
      "baseUrl": "https://api.openai.com/v1",
      "apiKey": "replace-with-your-openai-api-key"
    }
  },
  "runtime": {
    "resume": {
      "interruptedTtlDays": 7
    },
    "cache": {
      "version": "v1",
      "searchTtlSeconds": 3600,
      "infoTtlSeconds": 21600,
      "datasetTtlSeconds": 604800
    }
  },
  "prompts": {
    "agentRunSystemPrompt": "你是专业金融分析代理。请使用可用工具获取市场数据并准确回答用户问题。\n重要约束：\n1. 你通常并不知道数据库中的精确 ts_code（例如 000300.SH），必须先调用 searchStock/searchFund/searchIndex 检索后再调用按代码查询的工具。\n2. 禁止猜测代码，禁止使用不存在的工具名。\n3. 当市场数据工具返回 dataset_id 后，必须调用 executePython 对数据进行计算与分析。\n4. Python 环境预装 numpy、pandas、matplotlib、scipy，优先使用这些库完成数据处理与计算。",
    "parallelPlannerSystemPromptTemplate": "你是并行任务规划器。只输出 JSON。必须输出格式：{\"strategy\":\"parallel\",\"tasks\":[...],\"finalHint\":\"...\"}。任务字段：id,type( tool | sub_agent ),tool,args,dependsOn,goal,maxSteps,description。请优先拆分为可并行任务，但不要牺牲正确性。约束：任务数 <= {{maxTasks}}，sub_agent 步数 <= {{maxSubSteps}}，并行任务数 <= {{maxParallelTasks}}，sub_agent 任务数 <= {{maxSubAgents}}。仅允许工具：{{toolWhitelist}}。可并行任务应设置为空依赖；有依赖任务用 dependsOn。",
    "parallelFinalSystemPrompt": "你是金融分析助手，请基于任务结果给出最终结论。\n要求结论可直接回答用户目标，优先保留关键数值、口径与结论，不要只复述过程。",
    "subAgentPlannerSystemPromptTemplate": "你是一个子任务代理。必须先输出线性计划 JSON，不超过 {{maxSteps}} 步。仅能使用下列工具名称：{{tools}}。严禁把 sub_agent、workflow、tool、agent 作为步骤工具名。工具参数必须严格匹配真实签名：searchIndex/searchStock/searchFund 使用 keyword；getIndexDaily/getStockDaily 使用 tsCode,startDateStr,endDateStr（日期格式必须为YYYYMMDD）；executePython 使用 code,dataset_id；可选传 coding_context（仅保留与编码最相关上下文）。输出格式：{\"steps\":[{\"tool\":\"name\",\"args\":{...},\"note\":\"why\"}],\"expected\":\"...\"}。",
    "subAgentSummarySystemPrompt": "请基于以下工具执行结果，输出简洁结论用于主流程合并。\n结论需优先包含关键数值、时间范围与约束条件，避免冗长叙述。",
    "pythonRefineSystemPrompt": "你是代码执行代理。请基于目标、相关上下文和执行反馈，输出可直接运行的 Python 代码和运行参数。必须只输出 JSON，格式为 {\"code\":\"...\",\"run_args\":{\"dataset_id\":\"...\",\"dataset_ids\":\"...\",\"libraries\":\"...\",\"timeout_seconds\":30},\"reason\":\"...\"}。run_args 中最关键是 dataset_id，必须指向真实可访问的数据目录。",
    "pythonRefineRequirements": [
      "你可以在本轮修正 run_args，尤其是 dataset_id/dataset_ids。",
      "代码中不要假设未定义变量，直接按可访问文件路径读取数据。",
      "数据文件路径固定为 /sandbox/input/<dataset_id>/<dataset_id>.csv。",
      "若存在 dataset_ids，请逐个读取对应 csv，不要写死 /mnt/data 等路径。",
      "日期字段请先排序后再取首尾行，不要硬编码某个交易日一定存在。",
      "trade_date 常见为 YYYYMMDD 数字串；优先使用 astype(str) 后提取 8 位数字并按字符串排序。",
      "非必要不要使用 pd.to_datetime；若上轮出现 to_datetime/Overflow/unconverted 错误，本轮必须改为字符串排序方案。",
      "价格字段请优先使用 close/open 等数值列，避免把 ts_code 当作价格。",
      "ts_code 是数据库内区分不同资产的标识字段，不可用于涨跌幅数值计算。",
      "优先输出 JSON 结果，便于后续流程消费。",
      "若上轮报 dataset_id 相关错误，必须优先修正 run_args 再生成代码。"
    ],
    "pythonRefineOutputInstruction": "请只返回 JSON，不要返回 markdown。",
    "datasetFieldSpecs": [
      {
        "name": "ts_code",
        "meaning": "资产代码（股票/指数唯一标识）",
        "dataType": "string",
        "dataFormat": "交易所后缀代码，如 000300.SH"
      },
      {
        "name": "trade_date",
        "meaning": "交易日期",
        "dataType": "string",
        "dataFormat": "YYYYMMDD（8位日期字符串）"
      },
      {
        "name": "open",
        "meaning": "当日开盘价",
        "dataType": "float",
        "dataFormat": "十进制数值"
      },
      {
        "name": "high",
        "meaning": "当日最高价",
        "dataType": "float",
        "dataFormat": "十进制数值"
      },
      {
        "name": "low",
        "meaning": "当日最低价",
        "dataType": "float",
        "dataFormat": "十进制数值"
      },
      {
        "name": "close",
        "meaning": "当日收盘价",
        "dataType": "float",
        "dataFormat": "十进制数值"
      },
      {
        "name": "pre_close",
        "meaning": "前一交易日收盘价",
        "dataType": "float",
        "dataFormat": "十进制数值"
      },
      {
        "name": "change",
        "meaning": "绝对涨跌额",
        "dataType": "float",
        "dataFormat": "当日收盘价-前收盘价"
      },
      {
        "name": "pct_chg",
        "meaning": "涨跌幅百分比",
        "dataType": "float",
        "dataFormat": "百分比数值（如 1.23 表示 1.23%）"
      },
      {
        "name": "vol",
        "meaning": "成交量",
        "dataType": "float",
        "dataFormat": "原始成交量数值（单位依数据源定义）"
      },
      {
        "name": "amount",
        "meaning": "成交额",
        "dataType": "float",
        "dataFormat": "原始成交额数值（单位依数据源定义）"
      }
    ],
    "orchestratorPlanningSystemPrompt": "你是专业金融规划助手。请把用户高层目标拆解为可执行步骤，并输出严格 JSON。输出步骤需明确目标、所需工具与参数约束，不要输出 markdown 包裹。",
    "orchestratorSummarySystemPrompt": "你是专业金融分析助手。请基于执行日志输出简洁、清晰、可直接给用户的总结结论。优先突出结果与关键数据点，不要仅复述过程。"
  }
}
