

### 指数业务相关接口

#### 根据指数代码和日期范围查询日线行情

请求方法:GET

请求地址:`{{baseUrl}}/domestic/index/quote/daily`

请求参数:
- `ts_code`:需要查询的指数代码(如:`000300.SH`)
- `start_date_timestamp`:查询起始日期(时分秒统一为00:00:00)的毫秒时间戳
- `end_date_timestamp`:查询结束日期(时分秒统一为00:00:00)的毫秒时间戳

返回内容解释:
返回指定指数在指定日期范围内的日线行情数据,包含每日的开盘价、收盘价、最高价、最低价、涨跌幅等信息。

返回内容示例:
```json
{
	"items": [
		{
			"tsCode": "000300.SH",
			"tradeDate": "1704124800000",  // 时间戳格式
			"close": 3386.3522,
			"open": 3426.2684,  // 可能为null
			"high": 3426.2684,  // 可能为null
			"low": 3386.3522,   // 可能为null
			"preClose": 3431.1099,
			"change": -44.7577, 
			"pctChg": -1.3045,
			"vol": 1.16180726E8, // 可能为null
			"amount": 1.84096097449E8  // 可能为null
		},
		...
	]
}
```

---

#### 根据指数代码查询指数信息

请求方法:GET

请求地址:`{{baseUrl}}/domestic/index/info/ts_code`

请求参数:
- `ts_code`:需要查询的指数代码(如:`000300.SH`)

返回内容解释:
返回指定指数的详细信息,包括指数名称、市场、发布机构、基期、基点等。

返回内容示例:
```json
{
    "item": {
        "tsCode": "000300.SH",
        "name": "沪深300",
        "fullname": "沪深300指数",
        "market": "SSE",
        "publisher": "中证指数有限公司",
        "indexType": "中证规模指数",  // 可能为null
        "category": "规模指数",       // 可能为null
        "baseDate": "1104422400000",  // 时间戳格式
        "basePoint": 1000.0,
        "listDate": 1.1128896E12,
        "weightRule": "其他",         // 可能为null
        "desc": "沪深300指数由沪深市场中规模大、流动性好的最具代表性的300只证券组成,于2005年4月8日正式发布,以反映沪深市场上市公司证券的整体表现。"
    }
}
```

---

#### 根据关键词搜索指数

请求方法:GET

请求地址:`{{baseUrl}}/domestic/index/search`

请求参数:
- `query`:需要查询的关键词(如:`红利低波100`)

返回内容解释:
返回与关键词匹配的指数列表,包含指数代码、名称、全称和市场信息。

返回内容示例:
```json
{
    "items": [
        {
            "tsCode": "930955.CSI",
            "name": "红利低波100",
            "fullname": "中证红利低波动100指数",
            "market": "CSI"
        },
        ...
    ]
}
```

---

#### 根据指数代码和日期范围查询指数成分股

请求方法:GET

请求地址:`{{baseUrl}}/domestic/index/weight/ts_code`

请求参数:
- `ts_code`:需要查询的指数代码(如:`000171.CSI`)
- `start_date_timestamp`:查询起始日期(时分秒统一为00:00:00)的毫秒时间戳
- `end_date_timestamp`:查询结束日期(时分秒统一为00:00:00)的毫秒时间戳

返回内容解释:
返回指定指数在指定日期范围内的成分股信息,包括成分股代码、权重和登记日期。

返回内容示例:
```json
{
    "items": [
        {
            "indexCode": "000171.CSI", // 查询的指数代码
            "conCode": "300059.SZ",  // 成分股代码
            "tradeDate": "1706630400000",  // 时间戳格式
            "weight": 9.529  // 权重,表示9.529%
        },
        ...
    ]
}
```

---

#### 根据成分股代码和日期范围查询指数

请求方法:GET

请求地址:`{{baseUrl}}/domestic/index/weight/con_code`

请求参数:
- `con_code`:需要查询的成分股代码(如:`300059.SZ`)
- `start_date_timestamp`:查询起始日期(时分秒统一为00:00:00)的毫秒时间戳
- `end_date_timestamp`:查询结束日期(时分秒统一为00:00:00)的毫秒时间戳

返回内容解释:
返回指定成分股在指定日期范围内所属的指数信息,包括指数代码、权重和登记日期。

返回内容示例:
```json
{
    "items": [
        {
            "indexCode": "000171.CSI", // 查询到的含有指定成分股的指数代码
            "conCode": "300059.SZ", // 查询的成分股代码
            "tradeDate": "1735574400000",  // 时间戳格式
            "weight": 9.529  // 权重,表示9.529%
        },
        ...
    ]
}
```

---


### 基金业务相关接口

#### 根据基金代码查询基金信息

请求方法:GET

请求地址:`{{baseUrl}}/domestic/fund/info/tsCode`

请求参数:
- `ts_code`:需要查询的基金代码(如:`021894.OF`)

返回内容解释:
返回指定基金的详细信息,包括基金名称、管理人、托管人、基金类型、成立日期、发行金额、管理费、托管费等。

返回内容示例:
```json
{
    "items": [
        {
            "tsCode": "021894.OF",
            "name": "易方达中证半导体材料设备主题联接C",
            "management": "易方达基金",
            "custodian": "中国银行",
            "fundType": "股票型",
            "foundDate": "1732550400000",  // 时间戳格式
            "issueAmount": 3.2293,
            "mFee": 0.5,
            "cFee": 0.1,
            "pValue": 1.0,
            "minAmount": 1.0E-4,
            "benchmark": "中证半导体材料设备主题指数收益率*95%+活期存款利率(税后)*5%",
            "status": "L",
            "investType": "被动指数型",
            "type": "契约型开放式",
            "purcStartDate": "1733414400000",  // 时间戳格式
            "redmStartDate": "1733414400000",  // 时间戳格式
            "market": "O",
            "issueDate": "1730649600000"  // 时间戳格式
        }
    ]
}
```

---

#### 根据关键词搜索基金

请求方法:GET

请求地址:`{{baseUrl}}/domestic/fund/search`

请求参数:
- `query`:需要查询的关键词(如:`半导体`)

返回内容解释:
返回与关键词匹配的基金列表,包含基金代码、名称、管理人、基金类型、成立日期和基准信息。

返回内容示例:
```json
{
    "items": [
        {
            "tsCode": "021893.OF",
            "name": "易方达中证半导体材料设备主题联接A",
            "management": "易方达基金",
            "fundType": "股票型",
            "foundDate": "1732550400000",  // 时间戳格式
            "benchmark": "中证半导体材料设备主题指数收益率*95%+活期存款利率(税后)*5%"
        },
        ...
    ]
}
```

---

#### 根据基金代码和日期范围查询基金净值

请求方法:GET

请求地址:`{{baseUrl}}/domestic/fund/nav/ts_code`

请求参数:
- `ts_code`:需要查询的基金代码(如:`006567.OF`)
- `start_date_timestamp`:查询起始日期(时分秒统一为00:00:00)的毫秒时间戳
- `end_date_timestamp`:查询结束日期(时分秒统一为00:00:00)的毫秒时间戳

返回内容解释:
返回指定基金在指定日期范围内的净值信息,包括公告日期、净值日期、单位净值、累计净值和复权单位净值。

返回内容示例:
```json
{
    "items": [
        {
            "tsCode": "006567.OF",
            "annDate": "1672761600000",  // 公告日期,时间戳格式
            "navDate": "1672675200000",  // 净值日期,时间戳格式
            "unitNav": 2.4277,           // 单位净值
            "accumNav": 2.4277,          // 累计净值,可能为null
            "adjNav": 2.4277             // 复权单位净值
        },
        ...
    ]
}
```

---

#### 根据基金代码和日期范围查询基金持仓

请求方法:GET

请求地址:`{{baseUrl}}/domestic/fund/portfolio/ts_code`

请求参数:
- `ts_code`:需要查询的基金代码(如:`017415.OF`)
- `start_date_timestamp`:查询起始日期(时分秒统一为00:00:00)的毫秒时间戳
- `end_date_timestamp`:查询结束日期(时分秒统一为00:00:00)的毫秒时间戳

返回内容解释:
返回指定基金在指定日期范围内的持仓信息,包括公告日期、截止日期、持仓股票代码、市值、数量、市值占比和占流通股本比例。

返回内容示例:
```json
{
    "items": [
        {
            "tsCode": "017415.OF",
            "annDate": "1698163200000",  // 公告日期,时间戳格式
            "endDate": "1696003200000",  // 截止日期,时间戳格式
            "symbol": "601000.SH",       // 持仓股票代码
            "mkv": 7.950312747E7,        // 持有股票市值(元)
            "amount": 2.1545563E7,      // 持有股票数量(股)
            "sktMkvRatio": 5.11,         // 该持仓占该基金所有持仓的市值比例
            "sktFloatRatio": 0.36        // 占流通股本比例
        },
        ...
    ]
}
```

---

#### 根据成分股代码和日期范围查询基金持仓

请求方法:GET

请求地址:`{{baseUrl}}/domestic/fund/portfolio/symbol`

请求参数:
- `symbol`:需要查询的成分股代码(如:`601000.SH`)
- `start_date_timestamp`:查询起始日期(时分秒统一为00:00:00)的毫秒时间戳
- `end_date_timestamp`:查询结束日期(时分秒统一为00:00:00)的毫秒时间戳

返回内容解释:
返回指定成分股在指定日期范围内所属基金的持仓信息,包括基金代码、公告日期、截止日期、市值、数量、市值占比和占流通股本比例。

返回内容示例:
```json
{
    "items": [
        {
            "tsCode": "017415.OF",
            "annDate": "1698163200000",  // 公告日期,时间戳格式
            "endDate": "1696003200000",  // 截止日期,时间戳格式
            "symbol": "601000.SH",       // 持仓股票代码
            "mkv": 7.950312747E7,        // 持有股票市值(元)
            "amount": 2.1545563E7,      // 持有股票数量(股)
            "sktMkvRatio": 5.11,         // 该持仓占该基金所有持仓的市值比例
            "sktFloatRatio": 0.36        // 占流通股本比例
        },
        ...
    ]
}
```

---




### 股票业务相关接口

#### 根据股票代码查询股票基本信息

请求方法:GET

请求地址:`{{baseUrl}}/domestic/stock/info/ts_code`

请求参数:
- `ts_code`:需要查询的股票代码(例如:`600006.SH`)

返回内容解释:
返回指定股票代码的详细信息,包括股票的基本信息字段。所有字段都可能返回,但只有 `stockInfoId`, `tsCode`, `symbol`, `name`, `cnspell` 五个字段是必定非空的,其他字段可能为 `null`。

返回内容示例:
```json
{
    "stockInfoId": "2853",
    "tsCode": "600006.SH",
    "symbol": "600006",
    "name": "东风股份",
    "fullName": "东风汽车股份有限公司",
    "enName": "Dongfeng Automobile Co.,Ltd.",
    "cnspell": "dfgf",
    "market": "主板",
    "exchange": "SSE",
    "currType": "CNY",
    "listStatus": "L",
    "listDate": "933004800000",  // 这是时间戳,处理时请先转成long
    "isHs": "H",  // 是否沪深港通标的,N否 H沪股通 S深股通
    "actName": "东风汽车有限公司",  // 实控人名称
    "actEntType": "中央国企"  // 实控人企业性质
}
```

---

#### 搜索股票

请求方法:GET

请求地址:`{{baseUrl}}/domestic/stock/search`

请求参数:
- `query`:查询关键词(例如:`银行`)

返回内容解释:
返回符合查询关键词的股票列表,每个股票包含简单的信息,如股票代码、六位数代码、名称、地区和行业。

返回内容示例:
```json
{
    "items": [
        {
            "tsCode": "600000.SH",	
            "symbol": "600000",			// 六位数股票代码
            "name": "浦发银行",
            "area": "上海",
            "industry": "银行"
        },
        {
            "tsCode": "601939.SH",
            "symbol": "601939",
            "name": "建设银行",
            "area": "北京",
            "industry": "银行"
        },
        ...
    ]
}
```

---

#### 根据股票代码和日期范围查询股票日线行情

请求方法:GET

请求地址:`{{baseUrl}}/domestic/stock/daily/ts_code`

请求参数:
- `ts_code`:需要查询的股票代码(例如:`600006.SH`)
- `start_date_timestamp`:查询起始日期(时分秒统一为00:00:00)的毫秒时间戳(例如:`1706092800000`)
- `end_date_timestamp`:查询结束日期(时分秒统一为00:00:00)的毫秒时间戳(例如:`1736092800000`)

返回内容解释:
返回指定股票代码在指定日期范围内的日线行情数据,包括每日的开盘价、收盘价、最高价、最低价、成交量等信息。

返回内容示例:
```json
{
    "items": [
        {
            "stockDailyId": "60",
            "tsCode": "000061.SZ",
            "tradeDate": "1736092800000",
            "close": 6.64,
            "open": 6.6,
            "high": 6.7,
            "low": 6.42,
            "preClose": 6.64,
            "change": 0.0,
            "pctChg": 0.0,
            "vol": 84248.55,
            "amount": 55671.809
        },
        ...
    ]
}
```

---





### 指数爬取相关接口

#### 根据市场爬取指数信息

请求方法：GET  
请求地址：`{{baseUrl}}/fetch/domestic/index/info/market`  

请求参数格式与字段解释：
```
Query参数：
- market: 必填，市场代码（示例：SSE。具体可选值请访问TuShare网站，本项目API提供的入参均与TuShare保持一致）
- offset: 分页偏移量（示例：0）
- limit: 单次最大返回数量（示例：5000，最大值建议不超过15000）

功能说明：  
直接爬取指定市场下的指数基础信息，返回结果包含指数代码、名称、市场分类等元数据
```

### 指数异步爬取任务相关接口

#### 根据交易日爬取指数日线行情

请求方法：POST  
请求地址：`{{baseUrl}}/tasks/create`  

请求参数格式与字段解释：
```json
{
    "task_type": "fetch",
    "task_name": "index_quote",
    "task_sub_type": 1,
    "task_params": {
        "trade_date_timestamp": 1736438400000,  // 必填，交易时间戳（毫秒级）
        "offset": 0,                            // 分页起始位置（基于指数代码列表）
        "limit": 10                             // 单次处理指数代码数量
    }
}

```

功能说明：  
异步爬取指定交易日的全市场指数日线行情，系统将遍历数据库中的指数代码进行批量处理

#### 根据交易日范围爬取指数日线行情

请求方法：POST  
请求地址：`{{baseUrl}}/tasks/create`

请求参数格式与字段解释：
```json
{
    "task_type": "fetch",
    "task_name": "index_quote",
    "task_sub_type": 2,
    "task_params": {
        "start_date_timestamp": 1672502400001,  // 必填，起始时间戳（毫秒级）
        "end_date_timestamp": 1737302400001,    // 必填，结束时间戳（毫秒级）
        "offset": 10,                           // 分页起始位置（基于指数代码列表）
        "limit": 100                            // 单次处理指数代码数量
    }
}

```
功能说明：  
异步爬取指定日期范围内的全市场指数日线行情，适用于历史数据批量补录场景

#### 根据交易日范围爬取指数成分股

请求方法：POST  
请求地址：`{{baseUrl}}/tasks/create`

请求参数格式与字段解释：
```json
{
    "task_type": "fetch",
    "task_name": "index_weight",
    "task_sub_type": 1,
    "task_params": {
        "start_date_timestamp": 1672502400001,  // 必填，起始时间戳（毫秒级）
        "end_date_timestamp": 1737302400001,    // 必填，结束时间戳（毫秒级）
        "offset": 0,                            // 分页起始位置（基于本项目已爬取的指数代码列表）
        "limit": 100                            // 单次处理指数代码数量
    }
}

```
功能说明：  
异步爬取指数成分股权重数据，包含成分股代码、权重比例、生效日期等信息



### 基金爬取相关接口

#### 根据市场爬取基金信息

请求方法：GET  
请求地址：`{{baseUrl}}/fetch/domestic/fund/info/market`  

请求参数格式与字段解释：
```
Query参数：
- market: 必填，市场代码（示例：E。具体可选值请访问TuShare网站，本项目API提供的入参均与TuShare保持一致）
- offset: 分页偏移量（示例：0）
- limit: 单次最大返回数量（示例：15000，最大值建议不超过20000）

```
功能说明：  
直接爬取指定市场下的基金基础信息，返回结果包含基金代码、管理人、托管人、基金类型等元数据

#### 根据交易日爬取基金净值

请求方法：GET  
请求地址：`{{baseUrl}}/fetch/domestic/fund/nav/trade_date`  

请求参数格式与字段解释：
```
Query参数：
- trade_date_timestamp: 必填，交易时间戳（毫秒级，示例：1737043200000）
- offset: 分页偏移量（示例：0）
- limit: 单次最大返回数量（示例：15000）

```
功能说明：  
直接爬取指定交易日的全市场基金净值数据，包含单位净值、累计净值、资产规模等关键指标

### 基金异步爬取任务相关接口

#### 根据交易日范围爬取基金持仓

请求方法：POST  
请求地址：`{{baseUrl}}/tasks/create`  

请求参数格式与字段解释：
```json
{
    "task_type": "fetch",
    "task_name": "fund_portfolio",
    "task_sub_type": 1,
    "task_params": {
        "start_date_timestamp": 1672502400001,  // 必填，起始时间戳（毫秒级）
        "end_date_timestamp": 1704038400001,    // 必填，结束时间戳（毫秒级）
        "offset": 10,                           // 分页起始位置（基于基金代码列表）
        "limit": 50                             // 单次处理基金代码数量
    }
}

```
功能说明：  
异步爬取基金持仓明细数据，包含持仓股票代码、持仓市值、占净资产比例等信息，系统将遍历数据库中的基金代码进行批量处理



### 股票爬取相关接口

#### 根据市场爬取股票信息

请求方法：GET  
请求地址：`{{baseUrl}}/fetch/domestic/stock/info/market`  

请求参数格式与字段解释：
```
Query参数：
- market: 必填，交易所代码（示例：SZSE。具体可选值请访问TuShare网站，本项目API提供的入参均与TuShare保持一致）
- offset: 分页偏移量（示例：0）
- limit: 单次最大返回数量（示例：15000，最大值建议不超过20000）

功能说明：  
直接爬取指定交易所的股票基础信息，返回结果包含股票代码、全称、行业分类、上市状态等元数据
```

#### 根据交易日爬取股票日线行情

请求方法：GET  
请求地址：`{{baseUrl}}/fetch/domestic/stock/daily/trade_date`  

请求参数格式与字段解释：
```
Query参数：
- trade_date_timestamp: 必填，交易时间戳（毫秒级，示例：1736092800000）
- offset: 分页偏移量（示例：20）
- limit: 单次最大返回数量（示例：15000）

功能说明：  
直接爬取指定交易日的全市场股票日线行情，包含开盘价、最高价、最低价、收盘价、成交量等核心数据
```

### 股票异步爬取任务相关接口

#### 根据交易日范围爬取股票日线行情

请求方法：POST  
请求地址：`{{baseUrl}}/tasks/create`  

请求参数格式与字段解释：
```json
{
    "task_type": "fetch",
    "task_name": "stock_quote",
    "task_sub_type": 1,
    "task_params": {
        "start_date_timestamp": 1672502400001,  // 必填，起始时间戳（毫秒级）
        "end_date_timestamp": 1737302400001,    // 必填，结束时间戳（毫秒级）
        "offset": 0,                            // 分页起始位置（基于股票代码列表）
        "limit": 10                             // 单次处理股票代码数量
    }
}
```
功能说明：  
异步爬取指定日期范围内的全市场股票日线行情，系统将遍历数据库中的股票代码进行批量处理
