# Development profile for portfolioService
# This profile is intended for development environment

# ===================================================================
# SERVER CONFIGURATION
# ===================================================================
server.port=8084

# ===================================================================
# DATABASE CONFIGURATION
# ===================================================================

# Development database - can be local or shared dev environment
spring.datasource.driver-class-name=org.postgresql.Driver
spring.datasource.url=jdbc:postgresql://${AF_DB_MAIN_HOST:dev-db.abc.com}:${AF_DB_MAIN_PORT:5432}/${AF_DB_MAIN_DATABASE:alphafrog_dev}
spring.datasource.username=${AF_DB_MAIN_USER:dev_user}
spring.datasource.password=${AF_DB_MAIN_PASSWORD:dev_password}

# Connection pool settings for development
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=2
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.idle-timeout=600000
spring.datasource.hikari.max-lifetime=1800000

# ===================================================================
# JPA CONFIGURATION
# ===================================================================

# Development JPA settings - show SQL for debugging
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.use_sql_comments=true

# ===================================================================
# REDIS CONFIGURATION
# ===================================================================

# Development Redis settings
spring.data.redis.host=${AF_REDIS_HOST:dev-redis.abc.com}
spring.data.redis.port=6379
spring.data.redis.password=${AF_REDIS_PASSWORD:dev_redis_password}
spring.data.redis.timeout=2000ms
spring.data.redis.lettuce.pool.max-active=5
spring.data.redis.lettuce.pool.max-idle=5
spring.data.redis.lettuce.pool.min-idle=0

# ===================================================================
# DUBBO CONFIGURATION
# ===================================================================

# Development Dubbo settings
dubbo.application.name=portfolio-service-dev
dubbo.application.logger=log4j2

# Development Nacos registry
dubbo.registry.address=nacos://${NACOS_ADDRESS:dev-nacos.abc.com}:8848
dubbo.registry.timeout=5000

# Dubbo protocol
dubbo.protocol.name=tri
dubbo.protocol.port=50054
dubbo.protocol.payload=83886080

# Dubbo provider
dubbo.provider.timeout=5000
dubbo.provider.retries=0
dubbo.provider.delay=-1

# Dubbo consumer
dubbo.consumer.check=false
dubbo.consumer.timeout=3000
dubbo.consumer.retries=0

# ===================================================================
# LOGGING CONFIGURATION
# ===================================================================

# Development logging - more verbose for debugging
logging.level.root=INFO
logging.level.world.willfrog.alphafrogmicro.portfolioservice=DEBUG
logging.level.org.springframework.web=DEBUG
logging.level.org.hibernate=DEBUG
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE
logging.level.org.apache.dubbo=DEBUG

# Log file configuration
logging.file.name=logs/portfolio-service-dev.log
logging.file.max-size=10MB
logging.file.max-history=7

# ===================================================================
# APPLICATION SPECIFIC
# ===================================================================

# Development portfolio settings
portfolio.calculation.max-holding-age-days=365
portfolio.calculation.price-cache-ttl-minutes=5
portfolio.asset.default-currency=CNY
portfolio.asset.price-precision=4

# ===================================================================
# MANAGEMENT AND MONITORING
# ===================================================================

# Actuator endpoints for development
management.endpoints.web.exposure.include=health,info,metrics,prometheus,env,beans,configprops
management.endpoint.health.show-details=always
management.endpoint.env.show-values=always
management.metrics.export.prometheus.enabled=true

# Application info
info.app.name=Portfolio Service (Development)
info.app.description=Microservice for portfolio management and analysis - Development Environment
info.app.version=1.0.0-DEV
info.app.environment=development